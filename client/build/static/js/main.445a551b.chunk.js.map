{"version":3,"sources":["constants/index.js","api/Database.js","store/actions/contest.js","store/reducers/contest.js","store/reducers/index.js","store/index.js","components/App/index.js","components/icons/LensIcon.js","components/icons/ArrowIcon.js","components/icons/CheckedIcon.js","components/icons/BackIcon.js","helpers/getUTCDate.js","helpers/exportToExcel.js","helpers/sortSubmissions.js","helpers/parseRewards.js","helpers/processSubmissionsInfo.js","helpers/sortJury.js","helpers/createContestUrl.js","helpers/createWalletUrl.js","helpers/hooks/useSearchParams.js","components/SearchBar/index.js","components/Header/index.js","components/Contest/ContestHeader/index.js","components/Contest/ContestTableTh.js","components/Contest/styles.js","components/Contest/ContestTableHeader.js","components/Contest/ContestTableTd.js","components/Contest/RewardInput.js","components/Contest/ContestTableBody.js","components/Contest/index.js","components/ContestsList/ListItem.js","components/ContestsList/SubgovSwitcher.js","components/ContestsList/index.js","index.js","contest.abi.js","api/Ton.js"],"names":["DEFAULT_GOVERNANCE","SORT_BY_VALUES_PARTICIPANTS","SORT_BY_VALUES_JURY","DB_CONTENT_TYPES","databaseApi","this","client","createClient","space","process","environment","accessToken","params","skip","governance","address","query","content_type","getEntries","a","getContests","res","contestInfo","items","fields","name","console","warn","order","govRes","governances","map","item","error","SET_CONTEST_INFO","SET_BULK_CONTESTS_INFO","ADD_BULK_CONTESTS_INFO","SET_SUBMISSIONS_INFO","SET_JURY_INFO","UPDATE_SUBMISSION_REWARD","setContestInfo","contest","dispatch","type","payload","initialState","contestsInfo","submissionsInfo","jurorsInfo","contestReducer","state","action","forEach","submissions","juryStats","contestAddress","submissionId","reward","newSubmissionsInfo","contestSubmissions","updatedContestSubmissions","subm","id","rootReducer","combineReducers","middleware","thunk","composedEnhancers","compose","applyMiddleware","store","createStore","App","className","exact","path","component","ContestsList","Contest","Component","LensIcon","onClick","width","height","viewBox","fill","xmlns","d","stroke","y1","x2","y2","transform","ArrowIcon","CheckedIcon","x","y","BackIcon","strokeWidth","getUTCDate","date","Date","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","exportToExcel","htmlTable","contestTitle","string","formatedTable","replace","url","link","document","createElement","download","href","click","downloadTable","template","ctx","m","p","format","worksheet","table","window","btoa","unescape","encodeURIComponent","sortSubmissions","submission","sortBy","isAskending","sortedSubmissions","sort","b","firstEl","secondEl","parseInt","parseRewards","rewards","parsedRewards","rewardsRange","split","rangeStart","rangeEnd","rangeStartNum","rangeEndNum","i","err","processSubmissionsInfo","initialSubmissionsInfo","contestRewards","submissionInfo","isRejected","marks","length","rejectAmount","newSubmInfo","score","normalizedScore","reduce","previousValue","currentValue","toFixed","acceptAmount","prevReward","prevSubmIndex","submissionsWithSameScore","submissionsWithFullInfo","index","initialArray","prevSubm","place","tempToCollectSequence","lastSequenceIndex","Object","keys","pop","submIndex","numberSubmIndex","isLastIndex","rewardsForSequence","values","rewardForSubmInSequence","submSeqIndex","getSubmissionsWithFullInfo","sortJury","jurors","juryToSort","juryAddr","abstainAmount","totalVotes","push","sortedJury","normalizedJury","acc","jury","createContestUrl","createWalletUrl","wallet","useSearchParams","SearchBar","inputValue","isInvalidAddress","searchContest","props","history","TonApi","isAddressValid","setState","getContestInfo","contestInfoFromBlockchain","contestUrl","handleInputChange","event","target","value","handleKeyPress","shiftKey","key","altKey","preventDefault","searchBarClassName","placeholder","onChange","onKeyPress","SearchBarWithRedux","connect","withRouter","Header","match","useRouteMatch","to","ContestHeader","setJuryView","exportExcel","isJuryView","juryRewardPercent","setJuryRewardPercent","isInputFilled","Number","isNaN","participantsButtonClassName","juryButtonClassName","juryRewardInputClassName","rel","title","undefined","percent","ContestTableTh","children","styles","fullClassName","style","hiddenTitleStyles","color","fontSize","greenCellStyles","redCellStyles","TableHeaderForParticipants","submissionsSortParams","field","placeClassName","submissionClassName","acceptedClassName","rejectedClassName","TableHeaderForJury","jurySortParams","idClassName","votesCountClassName","abstainedClassName","ContestTableHeader","colSpan","ContestTableTd","RewardInput","useState","setReward","useDispatch","updateRewardForSubmission","onBlur","ContestTableBody","contestJury","collectionToRender","totalRewardForParticipants","submissionsToRender","scoreToShow","rowClassName","walletUrl","participantAddress","shouldShowInput","fileLink","totalAccept","totalReject","totalAbstain","totalRewardForJury","juryToRender","juryVotes","normalizedReward","isGrey","defaultSubmissionsSortParams","defaultJurySortParams","tableRef","createRef","fetchSubmissionsInfo","addressFromUrl","contestInfoFromRedux","setSubmissionsInfo","setJuryInfo","fullContestInfo","getContestFullInfo","getContestSubmissionsAndJurors","submissionsWithStats","processedSubmissions","Promise","all","DatabaseApi","getContestByAddress","contestInfoFromDB","current","innerHTML","rewardPercent","newSortField","newSortParams","setTimeout","prevProps","log","ref","ContestWithRedux","location","searchString","search","URLSearchParams","get","ListItem","contestDeadline","toDateString","linkAddress","listItemClassName","SubgovList","selectGovernance","isListOpen","governancesToRender","gov","fullName","listClassName","SubgovSwitcher","selectedGovernance","switcherBlockRef","useRef","setIsListOpen","handleClickOutside","useCallback","contains","useEffect","addEventListener","removeEventListener","switcherBlockClassName","listGovernances","filter","fetchGovernances","getGovernances","fetchContests","setBulkContestsInfo","contestsFromDB","contestsWithFullInfo","contestFromDB","rest","renderContestItems","newSelectedGovernance","prevState","bulkContests","require","config","init","ReactDOM","render","getElementById","contestAbi","tonApi","bocCache","Map","TonClient","useBinaryLibrary","libWeb","network","server_address","runContestFunction","contendersInfo","getJuryStatsFromContract","juryStatsFromContract","ids","createdAtTimestamp","appliedAts","substr","createdAtDate","addrs","discussionLink","Buffer","from","forumLinks","toString","fileLinks","hash","hashes","createdAt","contactAddress","contacts","updateJurorsStatFromCollection","collection","stat","juryId","find","addr","normalizedId","getVotesPerJurorForSubmission","votesPerJuror","jurorsFor","jurorsAbstained","jurorsAgainst","sumbStats","submId","infoAndProgress","contestProgress","contractRes","utils","convert_address","output_format","result","functionName","functionInput","has","boc","eq","net","wait_for_collection","set","apiMessageParams","abi","call_set","function_name","signer","input","encode_message","abiMessage","tvm","run_tvm","message","account","contestFunctionRes","decoded","output"],"mappings":"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","file":"static/js/main.445a551b.chunk.js","sourcesContent":["const EMPTY_ADDRESS = '0:0000000000000000000000000000000000000000000000000000000000000000';\n\nconst EXPLORER_BASE_URL = 'https://ton.live/accounts/accountDetails?id=';\n\nconst DEFAULT_GOVERNANCE = {\n\tNAME: 'main',\n\tFULL_NAME: 'Main',\n}\n\nconst SORT_BY_VALUES_PARTICIPANTS = {\n\tDEFAULT: 'place',\n\tPLACE: 'place',\n\tREWARD: 'reward',\n\tSUBMISSION_ID: 'id',\n\tSCORE: 'score',\n\tACCEPTED: 'acceptAmount',\n\tREJECTED: 'rejectAmount',\n}\n\nconst SORT_BY_VALUES_JURY = {\n\tDEFAULT: 'id',\n\tREWARD: 'reward',\n\tJURY_ID: 'id',\n\tTOTAL_VOTES: 'totalVotes',\n\tACCEPTED: 'acceptAmount',\n\tABSTAINED: 'abstainAmount',\n\tREJECTED: 'rejectAmount',\n}\n\nconst DB_CONTENT_TYPES = {\n\tCONTEST: 'contest',\n\tGOVERNANCE: 'governance',\n}\n\nexport {\n\tSORT_BY_VALUES_PARTICIPANTS,\n\tSORT_BY_VALUES_JURY,\n\tEMPTY_ADDRESS,\n\tEXPLORER_BASE_URL,\n\tDB_CONTENT_TYPES,\n\tDEFAULT_GOVERNANCE,\n}\n","import { createClient } from 'contentful';\nimport { DB_CONTENT_TYPES, DEFAULT_GOVERNANCE } from 'src/constants';\n\nclass DatabaseApi {\n\tinit() {\n\t\tthis.client = createClient({\n\t\t\tspace: process.env.REACT_APP_CONTENTFUL_SPACE_ID,\n\t\t\tenvironment: 'master',\n\t\t\taccessToken: process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN,\n\t\t})\n\t}\n\n\tgetContests(params = {}) {\n\t\tconst { skip = 0, governance, address } = params;\n\t\tconst query = {\n\t\t\tskip,\n\t\t\tcontent_type: DB_CONTENT_TYPES.CONTEST,\n\t\t};\n\n\t\tif (governance) {\n\t\t\tquery['fields.governance.sys.contentType.sys.id'] = DB_CONTENT_TYPES.GOVERNANCE;\n\t\t\tquery['fields.governance.fields.name'] = governance;\n\t\t}\n\n\t\tif (address)\n\t\t\tquery['fields.address'] = address;\n\n\t\treturn this.client.getEntries(query);\n\t}\n\n\tasync getContestByAddress(address) {\n\t\ttry {\n\t\t\tconst res = await this.getContests({ address });\n\t\t\tconst contestInfo = res.items[0].fields;\n\t\t\tcontestInfo.governance = contestInfo.governance.fields.name;\n\t\t\t\n\t\t\treturn contestInfo;\n\t\t} catch(err) {\n\t\t\tconsole.warn('No contest found in DB by address: ', address);\n\n\t\t\treturn {\n\t\t\t\tgovernance: DEFAULT_GOVERNANCE.NAME\n\t\t\t}\n\t\t}\n\t}\n\n\tasync getGovernances() {\n\t\ttry {\n\t\t\tconst govRes = await this.client.getEntries({\n\t\t\t\tcontent_type: DB_CONTENT_TYPES.GOVERNANCE,\n\t\t\t\torder: 'fields.name',\n\t\t\t});\n\t\t\tconst governances = govRes.items.map(item => item.fields);\n\n\t\t\treturn governances\n\t\t} catch (err) {\n\t\t\tconsole.error('Failed to fetch governances: ', err);\n\n\t\t\treturn [];\n\t\t}\n\t}\n}\n\nconst databaseApi = new DatabaseApi();\n\nexport default databaseApi;","export const SET_CONTEST_INFO = 'contest/SET_CONTEST_INFO';\nexport const SET_BULK_CONTESTS_INFO = 'contest/SET_BULK_CONTESTS_INFO';\nexport const ADD_BULK_CONTESTS_INFO = 'contest/ADD_BULK_CONTESTS_INFO';\nexport const SET_SUBMISSIONS_INFO = 'contest/SET_SUBMISSIONS_INFO';\nexport const SET_JURY_INFO = 'contest/SET_JURY_INFO';\nexport const UPDATE_SUBMISSION_REWARD = 'contest/UPDATE_SUBMISSION_REWARD';\n\nexport const setContestInfo = contest => dispatch => {\n\tdispatch({\n\t\ttype: SET_CONTEST_INFO,\n\t\tpayload: contest\n\t})\n}\n\nexport const setBulkContestsInfo = bulkContests => dispatch => {\n\tdispatch({\n\t\ttype: SET_BULK_CONTESTS_INFO,\n\t\tpayload: bulkContests\n\t})\n}\n\nexport const addBulkContestsInfo = bulkContests => dispatch => {\n\tdispatch({\n\t\ttype: ADD_BULK_CONTESTS_INFO,\n\t\tpayload: bulkContests\n\t})\n}\n\nexport const setSubmissionsInfo = (address, submissions) => dispatch => {\n\tdispatch({\n\t\ttype: SET_SUBMISSIONS_INFO,\n\t\tpayload: {\n\t\t\taddress,\n\t\t\tsubmissions,\n\t\t},\n\t})\n}\n\nexport const setJuryInfo = (address, juryStats) => dispatch => {\n\tdispatch({\n\t\ttype: SET_JURY_INFO,\n\t\tpayload: {\n\t\t\taddress,\n\t\t\tjuryStats,\n\t\t},\n\t})\n}\n\nexport const updateSubmissionReward = payload => dispatch => {\n\tdispatch({\n\t\ttype: UPDATE_SUBMISSION_REWARD,\n\t\tpayload,\n\t})\n}\n","import {\n\tSET_CONTEST_INFO,\n\tSET_BULK_CONTESTS_INFO,\n\tADD_BULK_CONTESTS_INFO,\n\tSET_SUBMISSIONS_INFO,\n\tSET_JURY_INFO,\n\tUPDATE_SUBMISSION_REWARD,\n} from '../actions/contest';\n\nconst initialState = {\n\tcontestsInfo: {},\n\tsubmissionsInfo: {},\n\tjurorsInfo: {},\n}\n  \nfunction contestReducer(state = initialState, action) {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase SET_CONTEST_INFO: {\n\t\t\tconst contestsInfo = { ...state.contestsInfo };\n\t\t\tcontestsInfo[payload.address] = payload;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontestsInfo,\n\t\t\t}\n\t\t}\n\n\t\tcase SET_BULK_CONTESTS_INFO: {\n\t\t\tconst contestsInfo = {};\n\n\t\t\tpayload.forEach(contest => {\n\t\t\t\tcontestsInfo[contest.address] = contest;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontestsInfo,\n\t\t\t}\n\t\t}\n\n\t\tcase ADD_BULK_CONTESTS_INFO: {\n\t\t\tconst contestsInfo = { ...state.contestsInfo };\n\n\t\t\tpayload.forEach(contest => {\n\t\t\t\tcontestsInfo[contest.address] = contest;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontestsInfo,\n\t\t\t}\n\t\t}\n\n\t\tcase SET_SUBMISSIONS_INFO: {\n\t\t\tconst { address, submissions } = payload;\n\n\t\t\tconst submissionsInfo = { ...state.submissionsInfo };\n\t\t\tsubmissionsInfo[address] = submissions;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubmissionsInfo,\n\t\t\t}\n\t\t}\n\n\t\tcase SET_JURY_INFO: {\n\t\t\tconst { address, juryStats } = payload;\n\n\t\t\tconst jurorsInfo = { ...state.jurorsInfo };\n\t\t\tjurorsInfo[address] = juryStats;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tjurorsInfo,\n\t\t\t}\n\t\t}\n\n\t\tcase UPDATE_SUBMISSION_REWARD: {\n\t\t\tconst { contestAddress, submissionId, reward } = payload;\n\n\t\t\tconst newSubmissionsInfo = { ...state.submissionsInfo };\n\t\t\tconst contestSubmissions = newSubmissionsInfo[contestAddress];\n\t\t\tconst updatedContestSubmissions = contestSubmissions.map(subm => {\n\t\t\t\tif (subm.id === submissionId)\n\t\t\t\t\treturn { ...subm, reward }\n\t\t\t\t\n\t\t\t\treturn subm;\n\t\t\t});\n\t\t\tnewSubmissionsInfo[contestAddress] = updatedContestSubmissions;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubmissionsInfo: newSubmissionsInfo,\n\t\t\t}\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default contestReducer\n","import { combineReducers } from 'redux';\nimport contest from './contest';\n\nconst rootReducer = combineReducers({\n\tcontest\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst enhancers = [];\nconst middleware = [\n\tthunk,\n];\n\nif (process.env.NODE_ENV === 'development') {\n\tconst devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__;\n\n\tif (typeof devToolsExtension === 'function')\n\t\tenhancers.push(devToolsExtension());\n}\n\nconst composedEnhancers = compose(\n\tapplyMiddleware(...middleware),\n\t...enhancers,\n);\n\nconst store = createStore(\n\trootReducer,\n\tinitialState,\n\tcomposedEnhancers,\n);\n\nexport default store;\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { Header, ContestsList, Contest } from 'src/components';\nimport './index.scss';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='app-container'>\n\t\t\t\t<div className='app-container__flex-wrapper'>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path='/' component={ContestsList} />\n\t\t\t\t\t\t<Route path='/contest' component={Contest} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\n\nconst LensIcon = ({ onClick = () => false }) => (\n\t<svg\n\t\tclassName='lens-icon'\n\t\twidth='22'\n\t\theight='22'\n\t\tviewBox='0 0 22 22'\n\t\tfill='none'\n\t\txmlns='http://www.w3.org/2000/svg'\n\t\tonClick={onClick}\n\t>\n\t\t<path\n\t\t\td='M16.8881 8.72414C16.8881 13.2678 13.2179 16.9483 8.69405 16.9483C4.17023 16.9483 0.5 13.2678 0.5 8.72414C0.5 4.18044 4.17023 0.5 8.69405 0.5C13.2179 0.5 16.8881 4.18044 16.8881 8.72414Z'\n\t\t\tstroke='#6F6F6F'\n\t\t/>\n\t\t<line\n\t\t\ty1='-0.5'\n\t\t\tx2='9.63903'\n\t\t\ty2='-0.5'\n\t\t\ttransform='matrix(0.705884 0.708327 -0.705884 0.708327 14.3643 15.1724)'\n\t\t\tstroke='#6F6F6F'\n\t\t/>\n\t</svg>\n)\n\nexport default LensIcon;\n","import React from 'react';\n\nconst ArrowIcon = () => (\n\t<svg\n\t\tclassName='arrow-icon'\n\t\twidth='14'\n\t\theight='9'\n\t\tviewBox='0 0 14 9'\n\t\tfill='none'\n\t\txmlns='http://www.w3.org/2000/svg'\n\t>\n\t\t<path d='M6.76449 9L0.338936 0.230769L13.19 0.23077L6.76449 9Z' fill='#737373'/>\n\t</svg>\n)\n\nexport default ArrowIcon;\n","import React from 'react';\n\nconst CheckedIcon = () => (\n\t<svg\n\t\tclassName='checked-icon'\n\t\twidth='20'\n\t\theight='14'\n\t\tviewBox='0 0 20 14'\n\t\tfill='none'\n\t\txmlns='http://www.w3.org/2000/svg'\n\t>\n\t\t<rect x='1.63672' y='5.36548' width='9.96256' height='1.81138' transform='rotate(45 1.63672 5.36548)' fill='#6F6F6F'/>\n\t\t<rect x='19.0166' y='2.06494' width='16.4416' height='1.81138' transform='rotate(135 19.0166 2.06494)' fill='#6F6F6F'/>\n\t</svg>\n)\n\nexport default CheckedIcon;\n","import React from 'react';\n\nconst BackIcon = () => (\n\t<svg\n\t\tclassName='back-icon'\n\t\twidth='20'\n\t\theight='20'\n\t\tviewBox='0 0 20 20'\n\t\tfill='none'\n\t\txmlns='http://www.w3.org/2000/svg'\n\t>\n\t\t<path d='M11.0156 2L3.00018 10.0154L11.0156 18.0309' stroke='#5287C3' strokeWidth='3'/>\n\t</svg>\n)\n\nexport default BackIcon;\n","function getUTCDate(date) {\n\treturn new Date(\n\t\tdate.getUTCFullYear(),\n\t\tdate.getUTCMonth(),\n\t\tdate.getUTCDate(),\n\t\tdate.getUTCHours(),\n\t\tdate.getUTCMinutes(),\n\t\tdate.getUTCSeconds(),\n\t);\n}\n\nexport default getUTCDate;\n","function exportToExcel(htmlTable, contestTitle) {\n\tconst baseUri = 'data:application/vnd.ms-excel;base64,';\n\tconst template = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>';\n\t\n\tconst base64 = string => {\n\t\treturn window.btoa(unescape(encodeURIComponent(string)))\n\t};\n\n\tconst format = (template, ctx) => {\n\t\treturn template.replace(/{(\\w+)}/g, (m, p) => {\n\t\t\treturn ctx[p];\n\t\t})\n\t};\n\n\tconst downloadTable = url => {\n\t\tconst link = document.createElement('a');\n\t\tlink.download = `${contestTitle}.xls`;\n\t\tlink.href = url;\n\t\tlink.click();\n\t}\n\n\tconst formatedTable = htmlTable.replace(/<input[^>]*>|<\\/input>/gi, '');\n\tconst ctx = {\n\t\tworksheet : contestTitle,\n\t\ttable : formatedTable\n\t}\n\tconst url = baseUri + base64(format(template, ctx));\n\n\tdownloadTable(url);\n}\n\nexport default exportToExcel;","import { SORT_BY_VALUES_PARTICIPANTS } from 'src/constants';\n\nfunction sortSubmissions(submission, sortBy = SORT_BY_VALUES_PARTICIPANTS.DEFAULT, isAskending = false) {\n\tconst sortedSubmissions = submission.sort((a, b) => {\n\t\tlet firstEl = a[sortBy], secondEl = b[sortBy];\n\n\t\tif (typeof firstEl === 'string')\n\t\t\tfirstEl = parseInt(firstEl, 10);\n\n\t\tif (typeof secondEl === 'string')\n\t\t\tsecondEl = parseInt(secondEl, 10);\n\n\t\tconst compared = isAskending ? firstEl - secondEl : secondEl - firstEl;\n\n\t\treturn compared;\n\t})\n\n\treturn sortedSubmissions;\n}\n\nexport default sortSubmissions;\n","const REWARDS_RANGE_SEPARATOR = '-';\n\nfunction parseRewards(rewards) {\n\tif (!rewards)\n\t\treturn false;\n\n\ttry {\n\t\tconst parsedRewards = {};\n\n\t\tfor (const rewardsRange in rewards) {\n\t\t\tconst [rangeStart, rangeEnd] = rewardsRange.split(REWARDS_RANGE_SEPARATOR);\n\n\t\t\tif (rangeEnd) {\n\t\t\t\tconst rangeStartNum = parseInt(rangeStart, 10);\n\t\t\t\tconst rangeEndNum = parseInt(rangeEnd, 10);\n\n\t\t\t\tfor (let i = rangeStartNum; i <= rangeEndNum; i++) {\n\t\t\t\t\tparsedRewards[i] = rewards[rewardsRange];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparsedRewards[rangeStart] = rewards[rangeStart];\n\t\t\t}\n\t\t}\n\n\t\treturn parsedRewards;\n\t} catch(err) {\n\t\tconsole.error('Error while parsing rewards: ', err);\n\n\t\treturn false;\n\t}\n}\n\nexport default parseRewards;\n","import { SORT_BY_VALUES_PARTICIPANTS } from 'src/constants';\nimport sortSubmissions from './sortSubmissions';\nimport parseRewards from './parseRewards';\n\nfunction processSubmissionsInfo(initialSubmissionsInfo, contestRewards) {\n\tconst submissions = initialSubmissionsInfo.map(submissionInfo => {\n\t\tconst isRejected = submissionInfo.marks.length === 0\n\t\t\t? submissionInfo.rejectAmount > 0\n\t\t\t: submissionInfo.marks.length / submissionInfo.rejectAmount < 1;\n\t\tconst newSubmInfo = { ...submissionInfo, isRejected };\n\n\t\tif (isRejected) {\n\t\t\tnewSubmInfo.reward = 0;\n\t\t\tnewSubmInfo.score = 0;\n\t\t} else {\n\t\t\tconst marksSum = newSubmInfo.marks.reduce((previousValue, currentValue) => {\n\t\t\t\treturn previousValue + parseInt(currentValue, 10);\n\t\t\t}, 0);\n\n\t\t\tconst score = marksSum / newSubmInfo.marks.length;\n\t\t\tconst normalizedScore = score.toFixed(2);\n\t\t\tnewSubmInfo.score = +normalizedScore;\n\t\t}\n\n\t\tnewSubmInfo.acceptAmount = newSubmInfo.marks.length;\n\n\t\treturn newSubmInfo;\n\t});\n\n\tconst sortedSubmissions = sortSubmissions(submissions, SORT_BY_VALUES_PARTICIPANTS.SCORE);\n\tconst submissionsWithFullInfo = getSubmissionsWithFullInfo(sortedSubmissions, contestRewards);\n\n\treturn submissionsWithFullInfo;\n}\n\nfunction getSubmissionsWithFullInfo(sortedSubmissions, contestRewards) {\n\tconst parsedRewards = parseRewards(contestRewards);\n\tconst submissionsWithSameScore = {};\n\tlet prevReward;\n\n\tconst submissionsWithFullInfo = sortedSubmissions.map((subm, index, initialArray) => {\n\t\tconst prevSubm = initialArray[index - 1];\n\t\tconst place = index + 1;\n\t\tlet reward;\n\n\t\tif (subm.isRejected) {\n\t\t\treward = 0;\n\t\t} else if (parsedRewards) {\n\t\t\treward = parsedRewards[place] || 0;\n\t\t} else {\n\t\t\treward = -1;\n\t\t}\n\n\t\tif (prevSubm && prevSubm.score === subm.score && subm.score !== 0) {\n\t\t\tsubmissionsWithSameScore[index - 1] = prevReward;\n\t\t\tsubmissionsWithSameScore[index] = reward;\n\t\t}\n\n\t\tprevReward = reward;\n\n\t\treturn {\n\t\t\t...subm,\n\t\t\tplace,\n\t\t\treward,\n\t\t}\n\t})\n\n\tlet tempToCollectSequence = {}, prevSubmIndex;\n\tconst lastSequenceIndex = +Object.keys(submissionsWithSameScore).pop();\n\tfor (const submIndex in submissionsWithSameScore) {\n\t\tconst numberSubmIndex = +submIndex;\n\t\tconst isLastIndex = numberSubmIndex === lastSequenceIndex;\n\t\tconst shouldCollectSequence = (!prevSubmIndex\n\t\t\t|| (\n\t\t\t\tprevSubmIndex + 1 === numberSubmIndex\n\t\t\t\t&& submissionsWithFullInfo[prevSubmIndex].score === submissionsWithFullInfo[numberSubmIndex].score\n\t\t\t))\n\t\t\t&& !isLastIndex\n\n\t\tif (shouldCollectSequence) {\n\t\t\ttempToCollectSequence[numberSubmIndex] = submissionsWithSameScore[numberSubmIndex];\n\t\t} else {\n\t\t\tif (isLastIndex)\n\t\t\t\ttempToCollectSequence[numberSubmIndex] = submissionsWithSameScore[numberSubmIndex];\n\n\t\t\tconst rewardsForSequence = Object.values(tempToCollectSequence);\n\t\t\tconst totalRewardForSequence = rewardsForSequence.reduce((previousValue, currentValue) => {\n\t\t\t\treturn previousValue + currentValue;\n\t\t\t}, 0);\n\n\t\t\tconst rewardForSubmInSequence = totalRewardForSequence / rewardsForSequence.length;\n\n\t\t\tfor (const submSeqIndex in tempToCollectSequence) {\n\t\t\t\tsubmissionsWithFullInfo[submSeqIndex].reward = rewardForSubmInSequence;\n\t\t\t}\n\n\t\t\ttempToCollectSequence = {\n\t\t\t\t[numberSubmIndex]: submissionsWithSameScore[numberSubmIndex]\n\t\t\t};\n\t\t}\n\n\t\tprevSubmIndex = numberSubmIndex;\n\t}\n\n\treturn submissionsWithFullInfo;\n}\n\nexport default processSubmissionsInfo;\n","import { SORT_BY_VALUES_JURY } from 'src/constants';\n\nfunction sortJury(jurors, sortBy = SORT_BY_VALUES_JURY.DEFAULT, isAskending = false) {\n\tconst juryToSort = [];\n\n\tfor (const juryAddr in jurors) {\n\t\tconst {\n\t\t\tacceptAmount = 0,\n\t\t\tabstainAmount = 0,\n\t\t\trejectAmount = 0,\n\t\t\tid,\n\t\t} = jurors[juryAddr];\n\t\tconst totalVotes = acceptAmount + rejectAmount + abstainAmount;\n\n\t\tjuryToSort.push({\n\t\t\taddress: juryAddr,\n\t\t\tacceptAmount,\n\t\t\tabstainAmount,\n\t\t\trejectAmount,\n\t\t\ttotalVotes,\n\t\t\tid,\n\t\t})\n\t}\n\n\tconst sortedJury = juryToSort.sort((a, b) => {\n\t\tlet firstEl = a[sortBy], secondEl = b[sortBy];\n\n\t\tif (typeof firstEl === 'string')\n\t\t\tfirstEl = parseInt(firstEl, 10);\n\n\t\tif (typeof secondEl === 'string')\n\t\t\tsecondEl = parseInt(secondEl, 10);\n\n\t\tconst compared = isAskending ? firstEl - secondEl : secondEl - firstEl;\n\n\t\treturn compared;\n\t})\n\n\tconst normalizedJury = sortedJury.reduce((acc, jury) => {\n\t\tconst  { \n\t\t\taddress,\n\t\t\tacceptAmount,\n\t\t\tabstainAmount,\n\t\t\trejectAmount,\n\t\t\tid,\n\t\t } = jury;\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[address]: {\n\t\t\t\tacceptAmount,\n\t\t\t\tabstainAmount,\n\t\t\t\trejectAmount,\n\t\t\t\tid,\n\t\t\t}\n\t\t}\n\t}, {});\n\n\treturn normalizedJury;\n}\n\nexport default sortJury;\n","function createContestUrl(contestAddress) {\n\treturn `/contest?contestAddress=${contestAddress}`;\n}\n\nexport default createContestUrl;\n","import { EXPLORER_BASE_URL } from 'src/constants';\n\nfunction createWalletUrl(wallet) {\n\treturn `${EXPLORER_BASE_URL}${wallet}`;\n}\n\nexport default createWalletUrl;\n","import { useLocation } from 'react-router-dom';\n\nfunction useSearchParams() {\n\treturn new URLSearchParams(useLocation().search);\n}\n\nexport default useSearchParams;","/* eslint-disable camelcase */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setContestInfo } from 'src/store/actions/contest';\nimport { TonApi } from 'src/api';\nimport { createContestUrl } from 'src/helpers';\nimport { LensIcon } from 'src/components/icons';\nimport './index.scss';\n\nclass SearchBar extends Component {\n\tstate = {\n\t\tinputValue: '',\n\t\tisInvalidAddress: false,\n\t}\n\n\tsearchContest = async () => {\n\t\tconst { inputValue: contestAddress } = this.state;\n\t\tconst { contestsInfo, history, setContestInfo } = this.props;\n\n\t\tif (!contestAddress)\n\t\t\treturn;\n\n\t\tconst isValidAddress = await TonApi.isAddressValid(contestAddress);\n\n\t\tif (!isValidAddress)\n\t\t\treturn this.setState({ isInvalidAddress: true });\n\n\t\tconst contestInfoFromRedux = contestsInfo[contestAddress];\n\n\t\tif (!contestInfoFromRedux) {\n\t\t\tconst contestInfoFromBlockchain = await TonApi.getContestInfo(contestAddress);\n\n\t\t\tif (!contestInfoFromBlockchain)\n\t\t\t\treturn this.setState({ isInvalidAddress: true });\n\t\t\n\t\t\tcontestInfoFromBlockchain.address = contestAddress;\n\t\t\tsetContestInfo(contestInfoFromBlockchain);\n\t\t}\n\n\t\tconst contestUrl = createContestUrl(contestAddress);\n\n\t\treturn history.push(contestUrl);\n\t}\n\n\thandleInputChange = event => {\n\t\tthis.setState({\n\t\t\tinputValue: event.target.value,\n\t\t\tisInvalidAddress: false,\n\t\t});\n\t}\n\n\thandleKeyPress = event => {\n\t\tconst { shiftKey, key, altKey } = event;\n\t\tconst isEnter = key === 'Enter';\n\t\tconst shouldSearch = isEnter && !shiftKey && !altKey;\n\n\t\tif (shouldSearch) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.searchContest();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { inputValue, isInvalidAddress } = this.state;\n\n\t\tconst searchBarClassName = `search-bar-container ${isInvalidAddress ? 'search-bar-container--invalid' : ''}`;\n\n\t\treturn (\n\t\t\t<div className={searchBarClassName}>\n\t\t\t\t<input\n\t\t\t\t\tclassName='search-bar-container__input'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceholder='Enter contest address'\n\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t/>\n\t\t\t\t<LensIcon onClick={this.searchContest} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ contest }) => {\n\tconst { contestsInfo } = contest;\n\n\treturn { contestsInfo }\n};\n\nconst SearchBarWithRedux = connect(mapStateToProps, {\n\tsetContestInfo,\n})(SearchBar);\n\nexport default withRouter(SearchBarWithRedux);\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { BackIcon } from 'src/components/icons';\nimport SearchBar from '../SearchBar';\nimport './index.scss';\n\nconst Header = () => {\n\tconst match = useRouteMatch('/contest');\n\n\treturn (\n\t\t<header className='header-container'>\n\t\t\t<Link to='/'><h1>Free TON Contests Results</h1></Link>\n\t\t\t{match\n\t\t\t\t&& <Link to='/' className='header-container__back-button'>\n\t\t\t\t\t<BackIcon />\n\t\t\t\t\t<p>Back</p>\n\t\t\t\t</Link>\n\t\t\t}\n\t\t\t<SearchBar />\n\t\t\t<div className='header-container__address-explanation'>\n\t\t\t\tWhere to find contest address?\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n\nexport default Header;\n","import React from 'react';\nimport { CheckedIcon } from 'src/components/icons';\n\nimport './index.scss';\n\nconst ContestHeader = ({\n\tcontestInfo, setJuryView, exportExcel, isJuryView, juryRewardPercent, setJuryRewardPercent\n}) => {\n\tconst handleInputChange = event => {\n\t\tif (!event.target.value)\n\t\t\treturn setJuryRewardPercent(undefined);\n\n\t\tconst percent = +event.target.value;\n\n\t\tif (percent && !Number.isNaN(percent)) {\n\t\t\tsetJuryRewardPercent(percent);\n\t\t}\n\t}\n\n\tconst isInputFilled = typeof juryRewardPercent === 'number' && !Number.isNaN(juryRewardPercent);\n\n\tconst participantsButtonClassName = `contest-header__participants-view-button ${isJuryView\n\t\t? '' : 'contest-header__participants-view-button--active'\n\t}`;\n\tconst juryButtonClassName = `contest-header__jury-view-button ${isJuryView\n\t\t? 'contest-header__jury-view-button--active' : ''\n\t}`;\n\tconst juryRewardInputClassName = `contest-header__reward-input-container ${isInputFilled\n\t\t? 'contest-header__reward-input-container--filled' : ''\n\t}`\n\n\n\treturn (\n\t\t<div className='contest-header'>\n\t\t\t<div className='contest-header__header'>Results</div>\n\t\t\t<a\n\t\t\t\thref={contestInfo.link}\n\t\t\t\ttarget='_blank'\n\t\t\t\trel=\"noreferrer\"\n\t\t\t\tclassName='contest-header__title'\n\t\t\t>\n\t\t\t\t{contestInfo.title}\n\t\t\t</a>\n\t\t\t<div className='contest-header__controls'>\n\t\t\t\t<div className='contest-header__view-switcher'>\n\t\t\t\t\t<div onClick={() => setJuryView(false)} className={participantsButtonClassName}>\n\t\t\t\t\t\tParticipants\n\t\t\t\t\t</div>\n\t\t\t\t\t<div onClick={() => setJuryView(true)} className={juryButtonClassName}>\n\t\t\t\t\t\tJury\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{isJuryView\n\t\t\t\t\t&& <div className={juryRewardInputClassName}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='contest-header__reward-input'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tplaceholder='Enter jury reward %'\n\t\t\t\t\t\t\tvalue={juryRewardPercent}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CheckedIcon />\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div onClick={exportExcel} className='contest-header__export-button'>\n\t\t\t\t\tExport to .xlsx\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ContestHeader;\n","import React from 'react'\n\nconst ContestTableTh = ({ children, className, onClick = () => false, styles = {} }) => {\n\tlet fullClassName = 'contest-table__cell contest-table__cell--th';\n\n\tif (className)\n\t\tfullClassName += ' ' + className;\n\n\treturn (\n\t\t<th\n\t\t\tstyle={styles}\n\t\t\tonClick={onClick}\n\t\t\tclassName={fullClassName}\n\t\t>\n\t\t\t{children}\n\t\t</th>\n\t)\n}\n\nexport default ContestTableTh;","export const hiddenTitleStyles = {\n\tcolor: '#0F8CFF',\n\tfontSize: '26px'\n}\n\nexport const greenCellStyles = {\n\tcolor: '#0D9F1C',\n}\n\nexport const redCellStyles = {\n\tcolor: '#D20808',\n}\n","import React from 'react';\nimport Th from './ContestTableTh';\nimport { hiddenTitleStyles } from './styles';\nimport { SORT_BY_VALUES_PARTICIPANTS, SORT_BY_VALUES_JURY } from 'src/constants';\nimport { ArrowIcon } from 'src/components/icons';\n\nconst ContestTableHeader = ({\n\tcontestInfo, isJuryView, submissionsSortParams, jurySortParams, sortSubmissions, sortJury\n}) => {\n\tconst { title } = contestInfo;\n\n\treturn (\n\t\t<thead className='contest-table__header'>\n\t\t\t<tr className='contest-table__header-hidden-line'><th colSpan='7'/></tr>\n\t\t\t<tr className='contest-table__header-hidden-line'>\n\t\t\t\t<th colSpan='7' style={hiddenTitleStyles}><a href={contestInfo.link}>{title}</a></th>\n\t\t\t</tr>\n\t\t\t{\n\t\t\t\tisJuryView\n\t\t\t\t\t? <TableHeaderForJury\n\t\t\t\t\t\tjurySortParams={jurySortParams}\n\t\t\t\t\t\tsortJury={sortJury}\n\t\t\t\t\t/>\n\t\t\t\t\t: <TableHeaderForParticipants\n\t\t\t\t\t\tsubmissionsSortParams={submissionsSortParams}\n\t\t\t\t\t\tsortSubmissions={sortSubmissions}\n\t\t\t\t\t/>\n\t\t\t}\n\t\t</thead>\n\t)\n}\n\nconst TableHeaderForParticipants = ({ submissionsSortParams, sortSubmissions }) => {\n\tconst { field, isAskending } = submissionsSortParams;\n\tconst placeClassName = `${field === SORT_BY_VALUES_PARTICIPANTS.PLACE ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`;\n\tconst submissionClassName = `${field === SORT_BY_VALUES_PARTICIPANTS.SUBMISSION_ID ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`;\n\tconst acceptedClassName = `${field === SORT_BY_VALUES_PARTICIPANTS.ACCEPTED ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`\n\tconst rejectedClassName = `${field === SORT_BY_VALUES_PARTICIPANTS.REJECTED ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`\n\n\treturn (\n\t\t<tr className='contest-table__row'>\n\t\t\t<Th \n\t\t\t\tclassName={placeClassName}\n\t\t\t\tonClick={() => sortSubmissions(SORT_BY_VALUES_PARTICIPANTS.PLACE)}\n\t\t\t>\n\t\t\t\tPlace\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th>Reward</Th>\n\t\t\t<Th\n\t\t\t\tclassName={submissionClassName}\n\t\t\t\tonClick={() => sortSubmissions(SORT_BY_VALUES_PARTICIPANTS.SUBMISSION_ID)}\n\t\t\t>\n\t\t\t\tSubmission \n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th>Avg. Score</Th>\n\t\t\t<Th\n\t\t\t\tclassName={acceptedClassName}\n\t\t\t\tonClick={() => sortSubmissions(SORT_BY_VALUES_PARTICIPANTS.ACCEPTED)}\n\t\t\t>\n\t\t\t\tAccepted\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th\n\t\t\t\tclassName={rejectedClassName}\n\t\t\t\tonClick={() => sortSubmissions(SORT_BY_VALUES_PARTICIPANTS.REJECTED)}\n\t\t\t>\n\t\t\t\tRejected\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th className='contest-table__cell--wallet'>Wallet</Th>\n\t\t</tr>\n\t)\n};\n\nconst TableHeaderForJury = ({ jurySortParams, sortJury }) => {\n\tconst { field, isAskending } = jurySortParams;\n\tconst idClassName = `${field === SORT_BY_VALUES_JURY.JURY_ID ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`;\n\tconst votesCountClassName = `${field === SORT_BY_VALUES_JURY.TOTAL_VOTES ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`;\n\tconst acceptedClassName = `${field === SORT_BY_VALUES_JURY.ACCEPTED ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`\n\tconst abstainedClassName = `${field === SORT_BY_VALUES_JURY.ABSTAINED ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`\n\tconst rejectedClassName = `${field === SORT_BY_VALUES_JURY.REJECTED ? `contest-table__cell--active ${\n\t\tisAskending ? 'contest-table__cell--askending' : ''\n\t}` : 'contest-table__cell--selectable'}`\n\n\treturn (\n\t\t<tr className='contest-table__row'>\n\t\t\t<Th\n\t\t\t\tclassName={idClassName}\n\t\t\t\tonClick={() => sortJury(SORT_BY_VALUES_JURY.JURY_ID)}\n\t\t\t>\n\t\t\t\tJury \n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th>Reward</Th>\n\t\t\t<Th\n\t\t\t\tclassName={votesCountClassName}\n\t\t\t\tonClick={() => sortJury(SORT_BY_VALUES_JURY.TOTAL_VOTES)}\n\t\t\t>\n\t\t\t\tVotes Count\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th\n\t\t\t\tclassName={acceptedClassName}\n\t\t\t\tonClick={() => sortJury(SORT_BY_VALUES_JURY.ACCEPTED)}\n\t\t\t>\n\t\t\t\tAccepted\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th\n\t\t\t\tclassName={abstainedClassName}\n\t\t\t\tonClick={() => sortJury(SORT_BY_VALUES_JURY.ABSTAINED)}\n\t\t\t>\n\t\t\t\tAbstained\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th\n\t\t\t\tclassName={rejectedClassName}\n\t\t\t\tonClick={() => sortJury(SORT_BY_VALUES_JURY.REJECTED)}\n\t\t\t>\n\t\t\t\tRejected\n\t\t\t\t<ArrowIcon />\n\t\t\t</Th>\n\t\t\t<Th className='contest-table__cell--wallet'>Wallet</Th>\n\t\t</tr>\n\t)\n}\n\nexport default ContestTableHeader;\n","import React from 'react'\n\nconst ContestTableTd = ({ children, className, styles = {} }) => {\n\tlet fullClassName = 'contest-table__cell';\n\n\tif (className)\n\t\tfullClassName += ' ' + className;\n\n\treturn (\n\t\t<td\n\t\t\tstyle={styles}\n\t\t\tclassName={fullClassName}\n\t\t>\n\t\t\t{children}\n\t\t</td>\n\t)\n}\n\nexport default ContestTableTd;","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateSubmissionReward } from 'src/store/actions/contest';\n\nconst RewardInput = ({ contestAddress, submissionId }) => {\n\tconst [reward, setReward] = useState();\n\tconst dispatch = useDispatch();\n\n\tconst handleInputChange = event => {\n\t\tif (!event.target.value)\n\t\t\treturn setReward(undefined);\n\n\t\tconst percent = +event.target.value;\n\n\t\tif (percent && !Number.isNaN(percent)) {\n\t\t\tsetReward(percent);\n\t\t}\n\t}\n\n\tconst updateRewardForSubmission = () => {\n\t\tif (reward) {\n\t\t\tdispatch(updateSubmissionReward({\n\t\t\t\tcontestAddress,\n\t\t\t\tsubmissionId,\n\t\t\t\treward\n\t\t\t}))\n\t\t}\n\t}\n\n\tconst handleKeyPress = event => {\n\t\tconst { shiftKey, key, altKey } = event;\n\t\tconst isEnter = key === 'Enter';\n\t\tconst shouldSetReward = isEnter && !shiftKey && !altKey;\n\n\t\tif (shouldSetReward) {\n\t\t\tevent.preventDefault();\n\t\t\tupdateRewardForSubmission();\n\t\t}\n\t}\n\n\treturn (\n\t\t<input\n\t\t\tclassName='contest-table__reward-input'\n\t\t\ttype='text'\n\t\t\tplaceholder='Enter reward'\n\t\t\tvalue={reward}\n\t\t\tonChange={handleInputChange}\n\t\t\tonBlur={updateRewardForSubmission}\n\t\t\tonKeyPress={handleKeyPress}\n\t\t/>\n\t)\n}\n\nexport default RewardInput\n","import React from 'react';\nimport { createWalletUrl } from 'src/helpers';\nimport Td from './ContestTableTd';\nimport RewardInput from './RewardInput';\nimport { greenCellStyles, redCellStyles } from './styles';\n\nconst ContestTableBody = ({\n\tcontestSubmissions, isJuryView, contestJury, juryRewardPercent, contestAddress\n}) => {\n\tif (!contestSubmissions.length)\n\t\treturn (<div>no subm</div>)\n\n\tlet totalRewardForParticipants = 0;\n\n\tconst submissionsToRender = contestSubmissions.map((submission, index) => {\n\t\tconst hasReward = typeof submission.reward === 'number' && !Number.isNaN(submission.reward);\n\t\tif (hasReward && submission.reward > 0)\n\t\t\ttotalRewardForParticipants += submission.reward;\n\n\t\tconst scoreToShow = submission.score.toFixed(2);\n\t\tconst isGrey = index === 0 || index % 2 === 0;\n\t\tconst rowClassName = `contest-table__row ${isGrey\n\t\t\t? 'contest-table__row--grey' : ''\n\t\t} ${submission.isRejected ? 'contest-table__row--rejected' : ''}`;\n\t\tconst walletUrl = createWalletUrl(submission.participantAddress);\n\n\t\tconst shouldShowInput = !submission.isRejected && submission.reward === -1;\n\n\t\treturn (\n\t\t\t<tr className={rowClassName} key={`${submission.participantAddress}${submission.id}`}>\n\t\t\t\t<Td>{submission.place}</Td>\n\t\t\t\t<Td>\n\t\t\t\t\t{shouldShowInput\n\t\t\t\t\t\t? <RewardInput\n\t\t\t\t\t\t\tcontestAddress={contestAddress}\n\t\t\t\t\t\t\tsubmissionId={submission.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t: submission.reward\n\t\t\t\t\t}\n\t\t\t\t</Td>\n\t\t\t\t<Td>\n\t\t\t\t\t{submission.fileLink\n\t\t\t\t\t\t? <a href={submission.fileLink} target='_blank' rel=\"noreferrer\">{submission.id}</a>\n\t\t\t\t\t\t: submission.id\n\t\t\t\t\t}\n\t\t\t\t</Td>\n\t\t\t\t<Td>{scoreToShow}</Td>\n\t\t\t\t<Td styles={greenCellStyles}>{submission.acceptAmount}</Td>\n\t\t\t\t<Td styles={redCellStyles}>{submission.rejectAmount}</Td>\n\t\t\t\t<Td className='contest-table__cell--wallet'>\n\t\t\t\t\t<a href={walletUrl} target='_blank' rel=\"noreferrer\">{submission.participantAddress}</a>\n\t\t\t\t</Td>\n\t\t\t</tr>\n\t\t)\n\t});\n\n\tlet collectionToRender;\n\tlet totalAccept = 0, totalReject = 0, totalAbstain = 0, totalRewardForJury = 0;\n\n\tif (isJuryView) {\n\t\tconst juryToRender = [];\n\n\t\tObject.values(contestJury).forEach(jury => {\n\t\t\tconst {\n\t\t\t\tacceptAmount = 0,\n\t\t\t\tabstainAmount = 0,\n\t\t\t\trejectAmount = 0,\n\t\t\t} = jury\n\n\t\t\ttotalAccept += acceptAmount;\n\t\t\ttotalReject += rejectAmount;\n\t\t\ttotalAbstain += abstainAmount;\n\t\t});\n\n\t\tfor (const juryAddr in contestJury) {\n\t\t\tconst {\n\t\t\t\tacceptAmount = 0,\n\t\t\t\tabstainAmount = 0,\n\t\t\t\trejectAmount = 0,\n\t\t\t\tid,\n\t\t\t} = contestJury[juryAddr];\n\t\t\tconst juryVotes = acceptAmount + rejectAmount;\n\t\t\tlet normalizedReward\n\n\t\t\tif (typeof juryRewardPercent === 'number' && !Number.isNaN(juryRewardPercent) && totalRewardForParticipants) {\n\t\t\t\tconst reward = juryVotes / (totalAccept + totalReject) * totalRewardForParticipants * juryRewardPercent / 100;\n\t\t\t\tnormalizedReward = +reward.toFixed(2);\n\t\t\t\ttotalRewardForJury += normalizedReward;\n\t\t\t}\n\t\t\t\n\t\t\tconst isGrey = juryToRender.length === 0 || juryToRender.length % 2 === 0;\n\t\t\tconst rowClassName = `contest-table__row ${isGrey ? 'contest-table__row--grey' : ''}`;\n\t\t\tconst walletUrl = createWalletUrl(juryAddr);\n\n\t\t\tjuryToRender.push(\n\t\t\t\t<tr className={rowClassName} key={juryAddr}>\n\t\t\t\t\t<Td>{id}</Td>\n\t\t\t\t\t<Td>{normalizedReward}</Td>\n\t\t\t\t\t<Td>{juryVotes + abstainAmount}</Td>\n\t\t\t\t\t<Td styles={greenCellStyles}>{acceptAmount}</Td>\n\t\t\t\t\t<Td>{abstainAmount}</Td>\n\t\t\t\t\t<Td styles={redCellStyles}>{rejectAmount}</Td>\n\t\t\t\t\t<Td className='contest-table__cell--wallet'>\n\t\t\t\t\t\t<a href={walletUrl} target='_blank' rel=\"noreferrer\">{juryAddr}</a>\n\t\t\t\t\t</Td>\n\t\t\t\t</tr>\n\t\t\t)\n\t\t}\n\n\t\tcollectionToRender = juryToRender;\n\t} else {\n\t\tcollectionToRender = submissionsToRender;\n\t}\n\n\treturn (\n\t\t<tbody>\n\t\t\t{collectionToRender}\n\t\t\t<tr className='contest-table__row contest-table__row--total-row'>\n\t\t\t\t<Td>Total</Td>\n\t\t\t\t{\n\t\t\t\t\tisJuryView\n\t\t\t\t\t? <>\n\t\t\t\t\t\t<Td>{totalRewardForJury ? totalRewardForJury.toFixed(2) : ''}</Td>\n\t\t\t\t\t\t<Td>{totalAccept + totalReject + totalAbstain}</Td>\n\t\t\t\t\t\t<Td styles={greenCellStyles}>{totalAccept}</Td>\n\t\t\t\t\t\t<Td>{totalAbstain}</Td>\n\t\t\t\t\t\t<Td styles={redCellStyles}>{totalReject}</Td>\n\t\t\t\t\t\t<Td />\n\t\t\t\t\t</>\n\t\t\t\t\t: <>\n\t\t\t\t\t\t<Td>{totalRewardForParticipants || ''}</Td>\n\t\t\t\t\t\t<Td />\n\t\t\t\t\t\t<Td />\n\t\t\t\t\t\t<Td />\n\t\t\t\t\t\t<Td />\n\t\t\t\t\t\t<Td />\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</tr>\n\t\t</tbody>\n\t)\n}\n\nexport default ContestTableBody;\n","import React, { Component, createRef } from 'react';\nimport XLSX from 'xlsx';\nimport { TableExport } from 'tableexport';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { TonApi, DatabaseApi } from 'src/api';\nimport { exportToExcel, processSubmissionsInfo, sortSubmissions, sortJury } from 'src/helpers';\nimport { setContestInfo, setSubmissionsInfo, setJuryInfo } from 'src/store/actions/contest';\nimport { SORT_BY_VALUES_PARTICIPANTS, SORT_BY_VALUES_JURY } from 'src/constants';\nimport ContestHeader from './ContestHeader';\nimport ContestTableHeader from './ContestTableHeader';\nimport ContestTableBody from './ContestTableBody';\nimport './index.scss';\n\nconst defaultSubmissionsSortParams = {\n\tfield: SORT_BY_VALUES_PARTICIPANTS.DEFAULT,\n\tisAskending: true,\n}\n\nconst defaultJurySortParams = {\n\tfield: SORT_BY_VALUES_JURY.DEFAULT,\n\tisAskending: true,\n}\n\nclass Contest extends Component {\n\ttableRef = createRef(null)\n\tstate = {\n\t\tisJuryView: false,\n\t\tjuryRewardPercent: undefined,\n\t\tsubmissionsSortParams: defaultSubmissionsSortParams,\n\t\tjurySortParams: defaultJurySortParams,\n\t}\n\n\tcomponentDidMount() {\n\t\ttry {\n\t\t\tthis.fetchSubmissionsInfo();\n\t\t} catch(err) {\n\t\t\tconsole.error('Fetching submissions failed: ', err);\n\n\t\t\tsetTimeout(this.fetchSubmissionsInfo, 5000);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\ttry {\n\t\t\tconst { addressFromUrl } = this.props;\n\n\t\t\tif (prevProps.addressFromUrl !== addressFromUrl) {\n\t\t\t\tthis.setJuryView(false);\n\t\t\t\tthis.setState({\n\t\t\t\t\tisJuryView: false,\n\t\t\t\t\tjuryRewardPercent: undefined,\n\t\t\t\t\tsubmissionsSortParams: defaultSubmissionsSortParams,\n\t\t\t\t\tjurySortParams: defaultJurySortParams,\n\t\t\t\t});\n\t\t\t\tthis.fetchSubmissionsInfo();\n\t\t\t}\n\t\t} catch(err) {\n\t\t\tconsole.error('Fetching submissions failed: ', err);\n\n\t\t\tsetTimeout(this.fetchSubmissionsInfo, 5000);\n\t\t}\n\t}\n\n\tfetchSubmissionsInfo = async () => {\n\t\tconst {\n\t\t\taddressFromUrl,\n\t\t\tcontestInfo: contestInfoFromRedux,\n\t\t\tsetContestInfo,\n\t\t\tsetSubmissionsInfo,\n\t\t\tsetJuryInfo,\n\t\t\thistory\n\t\t} = this.props;\n\t\tconst { jurySortParams } = this.state;\n\n\t\tconst isValidAddress = await TonApi.isAddressValid(addressFromUrl);\n\n\t\tif (!isValidAddress)\n\t\t\treturn history.push('/');\n\n\t\tlet fullContestInfo = contestInfoFromRedux;\n\n\t\tif (!fullContestInfo) {\n\t\t\tfullContestInfo = await this.getContestFullInfo(addressFromUrl);\n\n\t\t\tsetContestInfo(fullContestInfo);\n\t\t}\n\n\t\tif (fullContestInfo.juryRewardPercent)\n\t\t\tthis.setJuryRewardPercent(fullContestInfo.juryRewardPercent);\n\n\t\tconst { submissionsWithStats, juryStats } = await TonApi.getContestSubmissionsAndJurors(addressFromUrl);\n\t\tconst processedSubmissions = processSubmissionsInfo(submissionsWithStats, fullContestInfo.rewards);\n\t\tconst sortedJury = sortJury(juryStats, jurySortParams.field, jurySortParams.isAskending);\n\n\t\tsetSubmissionsInfo(addressFromUrl, processedSubmissions);\n\t\tsetJuryInfo(addressFromUrl, sortedJury);\n\t}\n\n\tgetContestFullInfo = async address => {\n\t\tconst [contestInfoFromBlockchain, contestInfoFromDB] = await Promise.all([\n\t\t\tTonApi.getContestInfo(address),\n\t\t\tDatabaseApi.getContestByAddress(address)\n\t\t]);\n\t\tconst { governance } = contestInfoFromDB;\n\n\t\treturn {\n\t\t\t...contestInfoFromBlockchain,\n\t\t\t...contestInfoFromDB,\n\t\t\taddress,\n\t\t\tgovernance,\n\t\t}\n\t}\n\n\texportExcel = () => {\n\t\tconst { contestInfo } = this.props;\n\n\t\tif (!contestInfo)\n\t\t\treturn;\n\n\t\ttry {\n\t\t\t// const tableToExport = new TableExport(document.getElementById('table'), {\n\t\t\t// \tfilename: contestInfo.title,\n\t\t\t// \tsheetname: contestInfo.title.slice(0, 30),\n\t\t\t// \tformats: [\"xlsx\"],\n\t\t\t// });\n\n\t\t\t// const edata = tableToExport.getExportData();\n\t\t\t// console.log(edata);\n\n\t\t\tconst htmlTable = this.tableRef.current.innerHTML;\n\t\t\t\n\t\t\texportToExcel(htmlTable, contestInfo.title);\n\t\t} catch(err) {\n\t\t\tconsole.error('Table export failed: ', err);\n\t\t}\n\t}\n\n\tsetJuryView = isJuryView => {\n\t\tthis.setState({ isJuryView });\n\t}\n\n\tsetJuryRewardPercent = rewardPercent => {\n\t\tthis.setState({ juryRewardPercent: rewardPercent });\n\t}\n\n\tsortJury = newSortField => {\n\t\tconst { contestJury, setJuryInfo, addressFromUrl } = this.props;\n\t\tconst { field, isAskending } = this.state.jurySortParams;\n\t\tconst isAskendingChange = newSortField === field;\n\n\t\tconst newSortParams = {\n\t\t\tfield: newSortField,\n\t\t\tisAskending: isAskendingChange ? !isAskending : isAskending,\n\t\t}\n\n\t\tconst sortedJury = sortJury(\n\t\t\tcontestJury,\n\t\t\tnewSortParams.field,\n\t\t\tnewSortParams.isAskending\n\t\t);\n\n\t\tsetJuryInfo(addressFromUrl, sortedJury);\n\t\tthis.setState({ jurySortParams: newSortParams });\n\t}\n\n\tsortSubmissions = newSortField => {\n\t\tconst { contestSubmissions, setSubmissionsInfo, addressFromUrl } = this.props;\n\t\tconst { field, isAskending } = this.state.submissionsSortParams;\n\t\tconst isAskendingChange = newSortField === field;\n\n\t\tconst newSortParams = {\n\t\t\tfield: newSortField,\n\t\t\tisAskending: isAskendingChange ? !isAskending : isAskending,\n\t\t}\n\n\t\tconst sortedSubmissions = sortSubmissions(\n\t\t\tcontestSubmissions,\n\t\t\tnewSortParams.field,\n\t\t\tnewSortParams.isAskending\n\t\t);\n\n\t\tsetSubmissionsInfo(addressFromUrl, sortedSubmissions);\n\t\tthis.setState({ submissionsSortParams: newSortParams });\n\t}\n\n\trender() {\n\t\tconst { contestSubmissions, contestInfo, contestJury, addressFromUrl } = this.props;\n\t\tconst { isJuryView, juryRewardPercent, submissionsSortParams, jurySortParams } = this.state;\n\n\t\tif (!contestInfo || !contestSubmissions || !contestJury)\n\t\t\treturn (<div>Loading...</div>)\n\n\t\tconsole.log(contestInfo, contestSubmissions, contestJury);\n\t\treturn (\n\t\t\t<div className='contest'>\n\t\t\t\t<ContestHeader\n\t\t\t\t\tcontestInfo={contestInfo}\n\t\t\t\t\tisJuryView={isJuryView}\n\t\t\t\t\tjuryRewardPercent={juryRewardPercent}\n\t\t\t\t\tsetJuryView={this.setJuryView}\n\t\t\t\t\tsetJuryRewardPercent={this.setJuryRewardPercent}\n\t\t\t\t\texportExcel={this.exportExcel}\n\t\t\t\t/>\n\t\t\t\t<div className='contest-table-wrapper'>\n\t\t\t\t\t<table id='table' className='contest-table' ref={this.tableRef}>\n\t\t\t\t\t\t<ContestTableHeader\n\t\t\t\t\t\t\tcontestInfo={contestInfo}\n\t\t\t\t\t\t\tisJuryView={isJuryView}\n\t\t\t\t\t\t\tsubmissionsSortParams={submissionsSortParams}\n\t\t\t\t\t\t\tjurySortParams={jurySortParams}\n\t\t\t\t\t\t\tsortSubmissions={this.sortSubmissions}\n\t\t\t\t\t\t\tsortJury={this.sortJury}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ContestTableBody\n\t\t\t\t\t\t\tcontestSubmissions={contestSubmissions}\n\t\t\t\t\t\t\tcontestJury={contestJury}\n\t\t\t\t\t\t\tcontestAddress={addressFromUrl}\n\t\t\t\t\t\t\tisJuryView={isJuryView}\n\t\t\t\t\t\t\tjuryRewardPercent={juryRewardPercent}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ contest }, { location }) => {\n\tconst { contestsInfo, submissionsInfo, jurorsInfo } = contest;\n\n\tconst searchString = location.search;\n\tconst searchParams = new URLSearchParams(searchString);\n\tconst addressFromUrl = searchParams.get('contestAddress');\n\tconst contestInfo = contestsInfo[addressFromUrl];\n\tconst contestSubmissions = submissionsInfo[addressFromUrl];\n\tconst contestJury = jurorsInfo[addressFromUrl];\n\n\treturn {\n\t\tcontestInfo,\n\t\tcontestSubmissions,\n\t\tcontestJury,\n\t\taddressFromUrl,\n\t}\n};\n\nconst ContestWithRedux = connect(mapStateToProps, {\n\tsetContestInfo,\n\tsetSubmissionsInfo,\n\tsetJuryInfo,\n})(Contest);\n\nexport default withRouter(ContestWithRedux);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUTCDate, createContestUrl } from 'src/helpers';\n\nconst ListItem = ({ contest, isGrey }) => {\n\tconst date = getUTCDate(new Date(contest.contestDeadline * 1000)).toDateString();\n\tconst linkAddress = createContestUrl(contest.address);\n\tconst listItemClassName = `contests-list__item ${isGrey ? 'contests-list__item--grey' : ''}`;\n\n\treturn (\n\t\t<Link to={linkAddress} className={listItemClassName}>\n\t\t\t<div className='contests-list__item-title'>\n\t\t\t\t{contest.title}\n\t\t\t</div>\n\t\t\t<div className='contests-list__item-date'>\n\t\t\t\t{date}\n\t\t\t</div>\n\t\t</Link>\n\t);\n}\n\nexport default ListItem;\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { ArrowIcon } from 'src/components/icons';\n\nconst SubgovSwitcher = ({ governances, selectedGovernance, selectGovernance }) => {\n\tconst switcherBlockRef = useRef(null);\n\tconst [isListOpen, setIsListOpen] = useState(false);\n\n\tconst handleClickOutside = useCallback(event => {\n\t\tif (!switcherBlockRef?.current?.contains(event.target) && isListOpen)\n\t\t\tsetIsListOpen(false);\n\t}, [isListOpen]);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('click', handleClickOutside);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOutside);\n\t\t}\n\t}, [handleClickOutside]);\n\n\tconst switcherBlockClassName = `subgov-switcher__switch-block ${isListOpen\n\t\t? 'subgov-switcher__switch-block--active' : ''\n\t}`\n\n\tconst listGovernances = governances.filter(gov => gov.name !== selectedGovernance.name);\n\n\treturn (\n\t\t<div className='subgov-switcher'>\n\t\t\t<div className='subgov-switcher__title'>Contests</div>\n\t\t\t<div\n\t\t\t\tref={switcherBlockRef}\n\t\t\t\tonClick={() => setIsListOpen(!isListOpen)}\n\t\t\t\tclassName={switcherBlockClassName}\n\t\t\t>\n\t\t\t\t{`Subgov: ${selectedGovernance.fullName}`}\n\t\t\t\t<ArrowIcon />\n\t\t\t\t<SubgovList isListOpen={isListOpen} governances={listGovernances} selectGovernance={selectGovernance} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst SubgovList = ({ governances, selectGovernance, isListOpen }) => {\n\tconst governancesToRender = governances.map(gov => (\n\t\t<div\n\t\t\tclassName='subgov-switcher__list-item'\n\t\t\tonClick={() => selectGovernance(gov)}\n\t\t\tkey={gov.name}\n\t\t>\n\t\t\t{gov.fullName}\n\t\t</div>\n\t))\n\n\tconst listClassName = `subgov-switcher__list ${isListOpen\n\t\t? 'subgov-switcher__list--visible' : ''\n\t}`;\n\n\treturn (\n\t\t<div className={listClassName}>\n\t\t\t{governancesToRender}\n\t\t</div>\n\t);\n}\n\nexport default SubgovSwitcher;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DatabaseApi, TonApi } from 'src/api';\nimport { setBulkContestsInfo } from 'src/store/actions/contest';\nimport { DEFAULT_GOVERNANCE } from 'src/constants';\nimport ContestListItem from './ListItem';\nimport SubgovSwitcher from './SubgovSwitcher';\nimport './index.scss';\n\nclass ContestsList extends Component {\n\tstate = {\n\t\tgovernances: [],\n\t\tselectedGovernance: {\n\t\t\tname: DEFAULT_GOVERNANCE.NAME,\n\t\t\tfullName: DEFAULT_GOVERNANCE.FULL_NAME,\n\t\t},\n\t}\n\n\tcomponentDidMount() {\n\t\ttry {\n\t\t\tthis.fetchContests();\n\t\t\tthis.fetchGovernances();\n\t\t} catch(err) {\n\t\t\tconsole.error('Fetching contests failed: ', err);\n\n\t\t\tsetTimeout(this.fetchContests, 5000);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\ttry {\n\t\t\tif (prevState.selectedGovernance.name !== this.state.selectedGovernance.name) {\n\t\t\t\tthis.fetchContests();\n\t\t\t}\n\t\t} catch(err) {\n\t\t\tconsole.error('Fetching contests failed: ', err);\n\n\t\t\tsetTimeout(this.fetchContests, 5000);\n\t\t}\n\t}\n\n\tfetchGovernances = async () => {\n\t\tconst governances = await DatabaseApi.getGovernances();\n\n\t\tthis.setState({ governances });\n\t}\n\n\tfetchContests = async () => {\n\t\tconst { setBulkContestsInfo } = this.props;\n\t\tconst { selectedGovernance } = this.state;\n\t\n\t\tconst contestsFromDB = await DatabaseApi.getContests({ governance: selectedGovernance.name });\n\t\tconst contestsWithFullInfo = await Promise.all(\n\t\t\tcontestsFromDB.items.map(contest => this.getContestFullInfo(contest))\n\t\t);\n\n\t\tsetBulkContestsInfo(contestsWithFullInfo);\n\t}\n\n\tgetContestFullInfo = async contestFromDB => {\n\t\tconst { address, governance, ...rest } = contestFromDB.fields;\n\t\tconst contestInfoFromBlockchain = await TonApi.getContestInfo(address);\n\n\t\treturn {\n\t\t\t...contestInfoFromBlockchain,\n\t\t\t...rest,\n\t\t\taddress,\n\t\t\tgovernance: governance.fields.name,\n\t\t}\n\t}\n\n\trenderContestItems = () => {\n\t\tconst { contestsInfo } = this.props;\n\t\tconst contestItems = contestsInfo.map((contest, index) => (\n\t\t\t<ContestListItem\n\t\t\t\tisGrey={index % 2 === 0 || index === 0}\n\t\t\t\tcontest={contest}\n\t\t\t\tkey={contest.address}\n\t\t\t/>\n\t\t));\n\n\t\treturn contestItems;\n\t}\n\n\tselectGovernance = newSelectedGovernance => {\n\t\tthis.setState({ selectedGovernance: newSelectedGovernance })\n\t}\n\n\trender() {\n\t\tconst { contestsInfo } = this.props;\n\t\tconst { selectedGovernance, governances } = this.state;\n\n\t\treturn (\n\t\t\t<div className='contests-list'>\n\t\t\t\t<SubgovSwitcher\n\t\t\t\t\tgovernances={governances}\n\t\t\t\t\tselectedGovernance={selectedGovernance}\n\t\t\t\t\tselectGovernance={this.selectGovernance}\n\t\t\t\t/>\n\t\t\t\t{contestsInfo.length ? this.renderContestItems() : <div>Loading...</div>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ contest }) => {\n\tconst { contestsInfo } = contest;\n\n\treturn { contestsInfo: Object.values(contestsInfo) }\n};\n\nexport default connect(mapStateToProps, {\n\tsetBulkContestsInfo,\n})(ContestsList);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom';\nimport { TonApi, DatabaseApi } from 'src/api';\nimport store from 'src/store'\nimport { App } from 'src/components';\n\nimport 'src/styles/index.scss';\n\nrequire('dotenv').config();\n\nTonApi.init();\nDatabaseApi.init();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</Provider>,\n\tdocument.getElementById('root'),\n);\n","const contestAbi = {\n\t'ABI version': 2,\n\t'header': ['pubkey', 'time'],\n\t'functions': [\n\t\t{\n\t\t\t'name': 'constructor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'title', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'link', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'hash', 'type': 'uint256' },\n\t\t\t\t{ 'name': 'juryAddr', 'type': 'address' },\n\t\t\t\t{ 'name': 'juryKeys', 'type': 'uint256[]' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'setupContest',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'startsIn', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'lastsFor', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'setupJurors',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'jurors', 'type': 'address[]' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'rejectApplicant',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'submitWithContact',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'participant', 'type': 'address' },\n\t\t\t\t{ 'name': 'forumLink', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'fileLink', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'hash', 'type': 'uint256' },\n\t\t\t\t{ 'name': 'contact', 'type': 'address' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'submit',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'participant', 'type': 'address' },\n\t\t\t\t{ 'name': 'forumLink', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'fileLink', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'hash', 'type': 'uint256' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'openContest',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'closeContest',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'openVoting',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'closeVoting',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'rejectVote',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'voteFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'mark', 'type': 'uint32' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'voteForCommented',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'mark', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'comment', 'type': 'bytes' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'abstain',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'comment', 'type': 'bytes' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'voteAgainst',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'comment', 'type': 'bytes' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'finalizeResults',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'votingEndsIn',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'daysLeft', 'type': 'uint64' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'contestStartCountdown',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'secondsLeft', 'type': 'int64' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'contestCountdown',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'secondsLeft', 'type': 'int64' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'votingCountdown',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'secondsLeft', 'type': 'int64' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getId',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'addr', 'type': 'address' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'value0', 'type': 'uint16' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'listContenders',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'ids', 'type': 'uint16[]' },\n\t\t\t\t{ 'name': 'addresses', 'type': 'address[]' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getStatsFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'totalPoints', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'avgHi', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'avgLo', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'jurorsVoted', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'accepted', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'abstained', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'rejected', 'type': 'uint16' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getVotesPerJuror',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'jurorsFor', 'type': 'address[]' },\n\t\t\t\t{ 'name': 'marks', 'type': 'uint32[]' },\n\t\t\t\t{ 'name': 'commentsFor', 'type': 'bytes[]' },\n\t\t\t\t{ 'name': 'jurorsAbstained', 'type': 'address[]' },\n\t\t\t\t{ 'name': 'commentsAbstained', 'type': 'bytes[]' },\n\t\t\t\t{ 'name': 'jurorsAgainst', 'type': 'address[]' },\n\t\t\t\t{ 'name': 'commentsAgainst', 'type': 'bytes[]' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getJuryStats',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'components': [{ 'name': 'id', 'type': 'uint16' }, { 'name': 'addr', 'type': 'address' }], 'name': 'jury', 'type': 'map(uint256,tuple)' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getContestStats',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'totalScore', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'avgHi', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'avgLo', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'jurorsVoted', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'entries', 'type': 'uint16' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getContestInfo',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'title', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'link', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'hash', 'type': 'uint256' },\n\t\t\t\t{ 'name': 'juryAddr', 'type': 'address' },\n\t\t\t\t{ 'name': 'juryKeys', 'type': 'uint256[]' },\n\t\t\t\t{ 'name': 'juryAddresses', 'type': 'address[]' },\n\t\t\t\t{ 'name': 'maxVotingAttempts', 'type': 'uint8' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getContestProgress',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'votesCount', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'contendersCount', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'contestOpen', 'type': 'bool' },\n\t\t\t\t{ 'name': 'votingOpen', 'type': 'bool' },\n\t\t\t\t{ 'name': 'contestDeadline', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'votingDeadline', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'resultsFinalized', 'type': 'bool' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getInfoFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'addr', 'type': 'address' },\n\t\t\t\t{ 'name': 'forumLink', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'fileLink', 'type': 'bytes' },\n\t\t\t\t{ 'name': 'hash', 'type': 'uint256' },\n\t\t\t\t{ 'name': 'appliedAt', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'contact', 'type': 'address' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getContendersInfo',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'ids', 'type': 'uint16[]' },\n\t\t\t\t{ 'name': 'addrs', 'type': 'address[]' },\n\t\t\t\t{ 'name': 'forumLinks', 'type': 'bytes[]' },\n\t\t\t\t{ 'name': 'fileLinks', 'type': 'bytes[]' },\n\t\t\t\t{ 'name': 'hashes', 'type': 'uint256[]' },\n\t\t\t\t{ 'name': 'appliedAts', 'type': 'uint64[]' },\n\t\t\t\t{ 'name': 'contacts', 'type': 'address[]' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getVotes',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'votes', 'type': 'uint64' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getVotesFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'votes', 'type': 'uint16' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getTotalRatingFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'rating', 'type': 'uint64' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'resultsFinalized',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'flag', 'type': 'bool' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getFinalStatusFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'status', 'type': 'bool' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getFinalStatus',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'status', 'type': 'bool[]' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getFinalContestStats',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'totalScore', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'avgHi', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'avgLo', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'jurorsVoted', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'entries', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'passed', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'rejected', 'type': 'uint16' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getFinalStatsFor',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'id', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'status', 'type': 'bool' },\n\t\t\t\t{ 'name': 'totalPoints', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'avgHi', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'avgLo', 'type': 'uint32' },\n\t\t\t\t{ 'name': 'jurorsVoted', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'accepted', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'abstained', 'type': 'uint16' },\n\t\t\t\t{ 'name': 'rejected', 'type': 'uint16' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'getFinalVotingData',\n\t\t\t'inputs': [\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t\t{ 'name': 'ids', 'type': 'uint16[]' },\n\t\t\t\t{ 'name': 'juryAddresses', 'type': 'address[]' },\n\t\t\t\t{ 'name': 'statuses', 'type': 'bool[]' },\n\t\t\t\t{ 'name': 'totalRatings', 'type': 'uint64[]' },\n\t\t\t\t{ 'name': 'jurorsVoted', 'type': 'uint16[]' },\n\t\t\t\t{ 'name': 'votesFor', 'type': 'uint16[]' },\n\t\t\t\t{ 'name': 'votesAbstained', 'type': 'uint16[]' },\n\t\t\t\t{ 'name': 'votesAgainst', 'type': 'uint16[]' },\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'transfer',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'dest', 'type': 'address' },\n\t\t\t\t{ 'name': 'value', 'type': 'uint64' },\n\t\t\t\t{ 'name': 'bounce', 'type': 'bool' },\n\t\t\t\t{ 'name': 'flags', 'type': 'uint16' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'forceContest',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'flag', 'type': 'bool' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'forceVoting',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'flag', 'type': 'bool' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'forceFinalize',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'flag', 'type': 'bool' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'setContestDeadline',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'time', 'type': 'uint64' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'setVotingDeadline',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'time', 'type': 'uint64' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\t'name': 'upgrade',\n\t\t\t'inputs': [\n\t\t\t\t{ 'name': 'c', 'type': 'cell' },\n\t\t\t],\n\t\t\t'outputs': [\n\t\t\t],\n\t\t},\n\t],\n\t'data': [\n\t\t{ 'key': 1, 'name': 'debugNonce', 'type': 'uint256' },\n\t],\n\t'events': [\n\t],\n};\n\nexport default contestAbi;\n","import { TonClient } from '@tonclient/core';\nimport { libWeb } from '@tonclient/lib-web';\n\nimport contestAbi from 'src/contest.abi';\n\nclass TonApi {\n\tconstructor() {\n\t\tthis.bocCache = new Map();\n\t}\n\n\tinit() {\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tTonClient.useBinaryLibrary(libWeb);\n\n\t\tthis.client = new TonClient({\n\t\t\tnetwork: {\n\t\t\t\tserver_address: 'main.ton.dev',\n\t\t\t},\n\t\t});\n\t}\n\n\tasync getContestSubmissionsAndJurors(contestAddress) {\n\t\tif (!contestAddress)\n\t\t\treturn;\n\n\t\ttry {\n\t\t\tconst contendersInfo = await this.runContestFunction(contestAddress, 'getContendersInfo');\n\t\t\tconst juryStatsFromContract = await this.getJuryStatsFromContract(contestAddress);\n\n\t\t\tconst submissions = contendersInfo.ids.map((id, index) => {\n\t\t\t\tconst createdAtTimestamp = parseInt(contendersInfo.appliedAts[index].substr(0, 10), 10);\n\t\t\t\tconst createdAtDate = new Date(createdAtTimestamp * 1000);\n\n\t\t\t\treturn {\n\t\t\t\t\tid: parseInt(id, 10),\n\t\t\t\t\ttitle: `Submission ${parseInt(id, 10)}`,\n\t\t\t\t\tparticipantAddress: contendersInfo.addrs[index],\n\t\t\t\t\tdiscussionLink: Buffer.from(contendersInfo.forumLinks[index], 'hex').toString(),\n\t\t\t\t\tfileLink: Buffer.from(contendersInfo.fileLinks[index], 'hex').toString(),\n\t\t\t\t\thash: contendersInfo.hashes[index],\n\t\t\t\t\tcreatedAt: createdAtDate,\n\t\t\t\t\tcreatedAtTimestamp,\n\t\t\t\t\tcontactAddress: contendersInfo.contacts[index],\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst juryStats = {};\n\t\t\tconst submissionsWithStats = await Promise.all(\n\t\t\t\tsubmissions.map(async subm => { \n\t\t\t\t\tconst votesPerJuror = await this.getVotesPerJurorForSubmission(contestAddress, subm.id);\n\t\t\t\t\tconst {\n\t\t\t\t\t\tjurorsFor,\n\t\t\t\t\t\tjurorsAbstained,\n\t\t\t\t\t\tjurorsAgainst,\n\t\t\t\t\t\tmarks,\n\t\t\t\t\t} = votesPerJuror;\n\n\t\t\t\t\tconst sumbStats = {\n\t\t\t\t\t\tmarks: marks,\n\t\t\t\t\t\tabstainAmount: jurorsAbstained.length,\n\t\t\t\t\t\trejectAmount: jurorsAgainst.length,\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction updateJurorsStatFromCollection(collection, stat) {\n\t\t\t\t\t\tcollection.forEach(address => {\n\t\t\t\t\t\t\tif (juryStats[address]) {\n\t\t\t\t\t\t\t\tjuryStats[address][stat] = (juryStats[address][stat] || 0) + 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst juryId = juryStatsFromContract.find(stat => stat.addr === address)?.id;\n\t\t\t\t\t\t\t\tconst normalizedId = typeof juryId === 'string'\n\t\t\t\t\t\t\t\t\t? parseInt(juryId, 10) + 1\n\t\t\t\t\t\t\t\t\t: juryId;\n\n\t\t\t\t\t\t\t\tjuryStats[address] = {\n\t\t\t\t\t\t\t\t\t[stat]: 1,\n\t\t\t\t\t\t\t\t\tid: normalizedId,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tupdateJurorsStatFromCollection(jurorsFor, 'acceptAmount');\n\t\t\t\t\tupdateJurorsStatFromCollection(jurorsAbstained, 'abstainAmount');\n\t\t\t\t\tupdateJurorsStatFromCollection(jurorsAgainst, 'rejectAmount');\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...subm,\n\t\t\t\t\t\t...sumbStats,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\treturn { submissionsWithStats, juryStats };\n\t\t} catch(err) {\n\t\t\tconsole.error('Getting contest submissions failed: ', err);\n\n\t\t\treturn { submissionsWithStats: [], juryStats: {} };\n\t\t}\n\t}\n\n\tasync getVotesPerJurorForSubmission(contestAddress, submId) {\n\t\tif (!contestAddress || !submId)\n\t\t\treturn;\n\n\t\tconst votesPerJuror = await this.runContestFunction(\n\t\t\tcontestAddress,\n\t\t\t'getVotesPerJuror',\n\t\t\t{ id: submId },\n\t\t);\n\n\t\treturn votesPerJuror;\n\t}\n\n\tasync getContestInfo(contestAddress) {\n\t\ttry {\n\t\t\tconst infoAndProgress = await Promise.all([\n\t\t\t\tthis.runContestFunction(contestAddress, 'getContestInfo'),\n\t\t\t\tthis.runContestFunction(contestAddress, 'getContestProgress'),\n\t\t\t]);\n\t\t\tconst [contestInfo, contestProgress] = infoAndProgress;\n\n\t\t\tconst link = Buffer.from(contestInfo.link, 'hex').toString();\n\t\t\tconst title = Buffer.from(contestInfo.title, 'hex').toString();\n\t\n\t\t\treturn {\n\t\t\t\t...contestInfo,\n\t\t\t\t...contestProgress,\n\t\t\t\tlink,\n\t\t\t\ttitle,\n\t\t\t};\n\t\t} catch(err) {\n\t\t\tconsole.error('Getting full contest info failed:', err);\n\t\t}\n\t}\n\n\tasync getJuryStatsFromContract(contestAddress) {\n\t\tconst contractRes = await this.runContestFunction(\n\t\t\tcontestAddress,\n\t\t\t'getJuryStats',\n\t\t);\n\n\t\tif (!contractRes?.jury)\n\t\t\treturn [];\n\n\t\treturn Object.values(contractRes.jury);\n\t}\n\n\tasync isAddressValid(address) {\n\t\ttry {\n\t\t\tconst result = await this.client.utils.convert_address({\n\t\t\t\taddress,\n\t\t\t\toutput_format: {\n\t\t\t\t\ttype: 'Hex',\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn !!result;\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync runContestFunction(contestAddress, functionName, functionInput) {\n\t\ttry {\n\t\t\tlet boc;\n\n\t\t\tif (this.bocCache.has(contestAddress)) {\n\t\t\t\tboc = this.bocCache.get(contestAddress);\n\t\t\t} else {\n\t\t\t\tconst params = {\n\t\t\t\t\tcollection: 'accounts',\n\t\t\t\t\tfilter: {\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\teq: contestAddress,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tresult: 'id, boc',\n\t\t\t\t};\n\t\t\n\t\t\t\tconst res = await this.client.net.wait_for_collection(params);\n\t\n\t\t\t\tboc = res.result.boc;\n\t\t\t\tthis.bocCache.set(contestAddress, boc);\n\t\t\t}\n\n\t\t\tconst apiMessageParams = {\n\t\t\t\tabi: {\n\t\t\t\t\ttype: 'Contract',\n\t\t\t\t\tvalue: contestAbi,\n\t\t\t\t},\n\t\t\t\taddress: contestAddress,\n\t\t\t\tcall_set: {\n\t\t\t\t\tfunction_name: functionName,\n\t\t\t\t},\n\t\t\t\tsigner: {\n\t\t\t\t\ttype: 'None',\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tif (functionInput)\n\t\t\t\tapiMessageParams.call_set.input = functionInput;\n\t\n\t\t\tconst abiMessage = await this.client.abi.encode_message(apiMessageParams);\n\t\n\t\t\tconst contestFunctionRes = await this.client.tvm.run_tvm({\n\t\t\t\tmessage: abiMessage.message,\n\t\t\t\taccount: boc,\n\t\t\t\tabi: {\n\t\t\t\t\ttype: 'Contract',\n\t\t\t\t\tvalue: contestAbi,\n\t\t\t\t},\n\t\t\t});\n\t\n\t\t\treturn contestFunctionRes.decoded?.output;\n\t\t} catch(err) {\n\t\t\tconsole.error(`Contest function ${functionName} executeion failed: `, err);\n\t\t}\n\t}\n}\n\nconst tonApi = new TonApi();\n\nexport default tonApi;"],"sourceRoot":""}